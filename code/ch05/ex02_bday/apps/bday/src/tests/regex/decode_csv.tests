rfc_record_per_line_test() ->
    Expected = [{"aaa", "zzz"}, {"bbb", "yyy"}, {"ccc", "xxx"}],
    Text = "aaa,bbb,ccc\r\nzzz,yyy,xxx\r\n",
    [Result] = decode(Text),
    ?assertEqual(Expected, Result).
	%?debugFmt("~p~n",[Result]).
	
rfc_optional_trailing_crlf_test() ->
    Expected = [{"aaa", "zzz"}, {"bbb", "yyy"}, {"ccc", "xxx"}],
    Text = "aaa,bbb,ccc\r\nzzz,yyy,xxx",
	[Result] = decode(Text),
    ?assertEqual(Expected, Result).
	
rfc_double_quote_test() ->
    Expected = [{"aaa", "zzz"}, {"bbb", "yyy"}, {"ccc", "xxx"}],
    Text = "\"aaa\",\"bbb\",\"ccc\"\r\nzzz,yyy,xxx",
	[Result] = decode(Text),
    ?assertEqual(Expected, Result).
	
rfc_crlf_escape_test() ->
    Expected = [{"aaa", "zzz"}, {"b\r\nbb", "yyy"}, {"ccc", "xxx"}],
    Text = "\"aaa\",\"b\r\nbb\",\"ccc\"\r\nzzz,yyy,xxx",
	[Result] = decode(Text),
    ?assertEqual(Expected, Result).
	
rfc_double_quote_escape_test() ->
    Expected = [{"aaa", ""}, {"b\"bb", ""}, {"ccc", ""}],
    %% Since we decided headers are mandatory, this test adds a line
    %% with empty values (CLRF,,) to the example from the RFC.
    Text = "\"aaa\",\"b\"\"bb\",\"ccc\"\r\n,,",
	[Result] = decode(Text),
    ?assertEqual(Expected, Result).
	
dupe_keys_test() ->
    Expected = [{"aaa", ""}, {"b\"bb", ""}, {"ccc", ""}],
    %% Since we decided headers are mandatory, this test adds a line
    %% with empty values (CLRF,,) to the example from the RFC.
    Text = "\"aaa\",\"b\"\"bb\",\"ccc\"\r\n,,",
	[Result] = decode(Text),
	?assertEqual(Expected, Result).	
	